/**
 * XHR 2014-09-25 - v0.1.1
 * A vanilla javascript wrapper for the XMLHttpRequest object.
 * https://github.com/georapbox/XHR
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
!function(a,b,c){b[a]=c()}("XHR",this,function(){var a={extend:function(){"use strict";for(var b=1,c=arguments.length;c>b;b+=1)for(var d in arguments[b])arguments[b].hasOwnProperty(d)&&(arguments[b][d]&&arguments[b][d].constructor&&arguments[b][d].constructor===Object?(arguments[0][d]=arguments[0][d]||{},a.extend(arguments[0][d],arguments[b][d])):arguments[0][d]=arguments[b][d]);return arguments[0]},encodeUrl:function(a){var b,c,d=a.substring(0,a.indexOf("?")+1),e=a.substring(a.indexOf("?")+1),f=e.split("&"),g=f.length,h=d;for(c=0;g>c;c+=1)b=f[c].split("="),h+=encodeURIComponent(b[0])+"="+encodeURIComponent(b[1])+"&";return h=h.substring(0,h.length-1)},serialize:function(a){var b,c,d,e,f,g,h=[],i=null;for(b=0,c=a.elements.length;c>b;b+=1)switch(i=a.elements[b],i.type){case"select-one":case"select-multiple":if(i.name.length)for(d=0,e=i.options.length;e>d;d+=1)f=i.options[d],f.selected&&(g="",g=f.hasAttribute?f.hasAttribute("value")?f.value:f.text:f.attributes.value.specified?f.value:f.text,h.push(encodeURIComponent(i.name)+"="+encodeURIComponent(g)));break;case void 0:case"file":case"submit":case"reset":case"button":break;case"radio":case"checkbox":if(!i.checked)break;default:i.name.length&&h.push(encodeURIComponent(i.name)+"="+encodeURIComponent(i.value))}return h.join("&")}},b=function(b){var c,d,e,f,g,h=this;if(c={method:"get",url:"",async:!0,serialize:!1,data:null,contentType:"application/x-www-form-urlencoded",customHeaders:[],success:function(){},error:function(){}},b=a.extend({},c,b),h.method=b.method,h.url=b.url,h.async=b.async,h.serialize=b.serialize,h.data=b.data,h.contentType=b.contentType,h.customHeaders=b.customHeaders,h.success=b.success,h.error=b.error,h.progressEvent={},f=h.customHeaders.length,d=new XMLHttpRequest,d.onreadystatechange=function(){4===d.readyState&&(d.status>=200&&d.status<300||304===d.status?h.success(d.status,d.responseText,d.responseXML,d.statusText):h.error(d.status,d.responseText,d.responseXML,d.statusText))},d.onprogress=function(a){return a.lengthComputable?(h.progressEvent={bubbles:a.bubbles,cancelable:a.cancelable,currentTarget:a.currentTarget,defaultPrevented:a.defaultPrevented,eventPhase:a.eventPhase,explicitOriginalTarget:a.explicitOriginalTarget,isTrusted:a.isTrusted,lengthComputable:a.lengthComputable,loaded:a.loaded,originalTarget:a.originalTarget,target:a.target,timeStamp:a.timeStamp,total:a.total,type:a.type},h.progressEvent):void 0},"get"===h.method&&(h.url=a.encodeUrl(h.url)),d.open(h.method,h.url,h.async),h.contentType!==!1&&d.setRequestHeader("Content-Type",h.contentType),f>0)for(e=0;f>e;e+=1){if(g=h.customHeaders[e],"object"!=typeof g)throw new Error('Property "customHeader" expects an array of objects for value.');for(var i in g)g.hasOwnProperty(i)&&d.setRequestHeader(i,g[i])}return h.serialize===!0&&(h.data=a.serialize(h.data)),d.send(h.data),h};return b});